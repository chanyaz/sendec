{% load endless %}
{% paginate total_news %}
{% for i in total_news %}
    <style>
        .sect{width: 31%; margin-top: 1%;}
        .current_news{box-shadow: 0 0 10px rgba(0,0,0,0.5); height: 350px; width: 100%; float: left;}
        .page-header{margin-top: 1.5%;}
        .main-page-news-cover{max-width: 100%; max-height: 100%; height: 200px; background: url('/media/{{ i.news_main_cover }}') no-repeat center; background-size: cover;}
        .text_post{width: 100%;}
    </style>
    <div class="sect">
        <div class="current_news"
             onmouseover="style.border='solid 0.2px blue';"
             onmouseout="style.border='';"
             onclick="location.href='/news/{{ i.news_category_id }}/{{ i.id }}/';">
            <div class="title">
                <h4 class="page-header">
                    {{ i.news_title }}
                </h4>
            </div>
            {% if i.news_main_cover != '' %}
                <div class="total-news-cover"
                     style="max-width: 100%; max-height: 100%; height: 210px; background: url('/media/{{ i.news_main_cover }}') no-repeat center; background-size: cover;"></div>
            {% endif %}
            <div class="text_post">
                {{ i.news_post_text|safe|striptags|truncatewords_html:"12" }}
            </div>
        </div>
    </div>
{% endfor %}
{% show_more %}
